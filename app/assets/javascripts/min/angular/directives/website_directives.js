websiteApp.directive("siteLogo",[function(){return{restrict:"E",templateUrl:"/assets/angular/widgets/partials/site_logo.html"}}]),websiteApp.directive("userThumb",[function(){return{restrict:"E",templateUrl:"/assets/angular/widgets/partials/user_thumb.html"}}]),websiteApp.directive("infoCard",["$rootScope","$timeout",function(a,b){return{restrict:"E",controller:["$scope","websiteService",function(c,d){_get_genres=function(){d.get_genres().then(function(a){c.genres=a.genres})},_profile_status_colors=function(){var b=a.user.profile_status;0==b?a.user.profile_status_color="#4374e0":1==b?a.user.profile_status_color="#65b045":2==b?a.user.profile_status_color="#d73d32":3==b?a.user.profile_status_color="#11a9cc":4==b?a.user.profile_status_color="#981b48":5==b?a.user.profile_status_color="#7e3794":6==b?a.user.profile_status_color="#4374e0":7==b?a.user.profile_status_color="#981b48":8==b&&(a.user.profile_status_color="#981b48")},_handle_info_card_bindings=function(){6==a.user.profile_status?navigator.geolocation?navigator.geolocation.getCurrentPosition(function(b){var c=b.coords.latitude,d=b.coords.longitude;a.user.latitude=c,a.user.longitude=d}):x.innerHTML="Geolocation is not supported by this browser.":4==a.user.profile_status||2==a.user.profile_status&&_get_genres()},_get_info_data=function(){d.get_info_data().then(function(a){c.book_counts=a.reading_count_list,c.user_book_count=c.book_counts[0]})},_init=function(){a.user.profile_status=0,_profile_status_colors(),_get_info_data(),c.profileOptions=[{name:"Reader"},{name:"Author"},{name:"Publisher"},{name:"Editor"}],c.gender="Male",c.profileSelected={name:"Reader"},c.info_card_width=350,c.info_card_ratio=1.34},c.prev_profile_state=function(){a.user.profile_status=0!=a.user.profile_status?a.user.profile_status-1:8,_handle_info_card_bindings(c),_profile_status_colors()},c.next_profile_state=function(){a.user.profile_status=8!=a.user.profile_status?a.user.profile_status+1:0,_handle_info_card_bindings(c),_profile_status_colors()},c.stop_horizontal_scroll=function(a){a.stopPropagation()},c.update_profile=function(){var b=13==event.keyCode;if(b){var c=a.user.profile_status;0==c&&(d.update_profile(a.user),a.user.profile_status=a.user.profile_status+1,_profile_status_colors())}},c.user_profile_changed=function(a){if("Reader"==a.name||"Author"==a.name){c.show_loading_bar=!0;{b(function(){c.show_loading_bar=!1,c.ask_book_count=!0},1e3)}}},c.add_book=function(){},c.add_author=function(){},c.get_search_results=function(a,b,e){e?e+=String.fromCharCode(a.keyCode):e=String.fromCharCode(a.keyCode),d.search(e,b,3).then(function(a){c.search_results=c.search_results.concat(a.results)})},_init()}],templateUrl:"/assets/angular/widgets/base/widget/info_card.html"}}]),websiteApp.directive("toggle",function(){return{restrict:"E",scope:{obj:"=data"},controller:["$scope",function(a){a.toggle=function(){a.active=a.active?!1:!0}}],templateUrl:"/assets/angular/widgets/partials/toggle.html"}}),websiteApp.directive("track",["$rootScope",function(a){return{restrict:"A",link:["scope","element","attrs",function(b,c){c.bind("mouseleave",function(a){_record_details(a)}),c.bind("mouseenter",function(a){_record_details(a)}),c.bind("click",function(a){_record_details(a)}),_record_details=function(b){node_name=b.currentTarget.nodeName,time_stamp=b.timeStamp,thousand_milliseconds=1e5,time_stamp=thousand_milliseconds*(time_stamp%thousand_milliseconds/thousand_milliseconds),action_type=b.type,"A"==node_name&&(node_name=b.currentTarget.href),id=b.currentTarget.id,uid=node_name+":"+id,array=id.split("-"),containsCategory=array.length>1,containsCategory?(category=array[0],book_id=array[1]):(category="",book_id=""),data_json=[{time_stamp:time_stamp,action_type:action_type,node_name:node_name,uid:uid,category:category,book_id:book_id}],a.data=a.data.concat(data_json)}}]}}]),websiteApp.directive("horizontalScroller",function(){return{restrict:"E",templateUrl:"/assets/angular/widgets/base/horizontal_scroller.html"}}),websiteApp.directive("setFocus",["$timeout","$parse","$rootScope",function(a,b,c){return{link:["scope","element","attrs",function(d,e,f){var g=b(f.setFocus);d.$watch(g,function(b){b===!0&&a(function(){e[0].value=String.fromCharCode(c.keyCode),e[0].focus()})})}]}}]),websiteApp.directive("typeAhead",["$timeout","$sce",function(a){return{restrict:"E",scope:{items:"=",prompt:"@",title:"@",id:"@",custom:"@",customOptions:"@",subtitle:"@",model:"=",onSelect:"&",autoPopulate:"&",onClear:"&"},link:["scope","elem","attrs",function(){}],controller:["$scope","$sce","recommendationService",function(b,c){b.is_current=function(a,c){return b.current==a&&(b.currentItem=c),b.current==a},b.set_current=function(a){b.current=a},b.navigate_options=function(){var a=13==event.keyCode;a&&b.handle_selection(b.currentItem)},b.key_up=function(){var a=38==event.keyCode,c=40==event.keyCode,d=8==event.keyCode;a?b.set_current(0!=b.current?b.current-1:b.filtered.length-1):c?b.set_current(b.current!=b.filtered.length-1?b.current+1:0):d&&(void 0==b.model||""==b.model)&&b.onClear()},_init=function(){b.current=0,b.selected=!0,b.name=""},b.focus_on_input=function(){},b.auto_populate=function(){b.autoPopulate()},b.highlight=function(a,b){return c.trustAsHtml(b.replace(new RegExp(a,"gi"),'<span style="font-weight:bold;">$&</span>'))},b.remove_filter=function(){b.model="",b.onClear()},b.handle_selection=function(c){b.model=c.toUpperCase(),b.current=0,b.selected=!0,a(function(){b.onSelect()},200)},_init()}],templateUrl:"/assets/angular/widgets/partials/type_ahead.html"}}]),websiteApp.directive("message",function(){return{restrict:"E",controller:["$scope",function(a){a.close_message=function(){"Allow your webcam. Swipe Left|Right to look for more books."==a.message?a.message='Just "START TYPING" anytime to search.':a.message_closed=!0},_init_motion_adaption=function(){},(_init=function(){a.message_closed=!0})()}],templateUrl:"/assets/angular/widgets/partials/message.html"}}),websiteApp.directive("notification",function(){return{restrict:"E",scope:{notification:"=data"},templateUrl:"/assets/angular/widgets/partials/notification.html"}}),websiteApp.directive("compile",["$compile",function(a){return["scope","element","attrs",function(b,c,d){var e=b.$watch(function(a){return a.$eval(d.compile)},function(d){c.html(d),a(c.contents())(b),e()})}]}]),websiteApp.directive("searchBar",function(){return{restrict:"E",templateUrl:"/assets/angular/widgets/partials/search_bar.html"}});