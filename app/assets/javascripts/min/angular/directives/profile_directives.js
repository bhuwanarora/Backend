homeApp.directive("communityInfo",["$rootScope","newsService","ColorConstants","$mdDialog","sharedService",function(a,b,c,d,e){return{restrict:"E",scope:{community:"=",info:"="},controller:["$scope",function(d){d.show_book_dialog=function(b,c){e.show_book_dialog(a,d,b,c)};var f=function(){angular.isDefined(d.community)&&(d.community_loading=!0,b.get_feed_info(d.community.id).then(function(a){d.community=angular.extend(d.community,a),angular.forEach(d.community.books,function(a){var b=Math.floor(Math.random()*c.value.length),d=c.value[b];a.color=d}),d.community_loading=!1}))};f()}],templateUrl:"/assets/angular/html/shared/partials/community_info.html"}}]);