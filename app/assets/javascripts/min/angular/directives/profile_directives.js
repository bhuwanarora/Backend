homeApp.directive("communityInfo",["$rootScope","newsService","ColorConstants","$mdDialog",function(a,b,c,d){return{restrict:"E",scope:{community:"=",info:"="},controller:["$scope",function(e){e.show_book_dialog=function(b,c){a.active_book=b,a.active_book.show_info_only=!0,d.show({templateUrl:"/assets/angular/html/news/book.html",scope:e,preserveScope:!0,clickOutsideToClose:!0,targetEvent:c}),c.stopPropagation()};var f=function(){angular.isDefined(e.community)&&(e.community_loading=!0,b.get_feed_info(e.community.id).then(function(a){e.community=angular.extend(e.community,a),angular.forEach(e.community.books,function(a){var b=Math.floor(Math.random()*c.value.length),d=c.value[b];a.color=d}),e.community_loading=!1}))};f()}],templateUrl:"/assets/angular/html/shared/partials/community_info.html"}}]);