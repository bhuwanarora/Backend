homeApp.service("bookService",["$http","$q","$rootScope","WebsiteUIConstants",function(a,b,c,d){var e=function(){if(angular.isDefined(c.reader))var a=c.reader.id;else var a=c.user.id;return a},f=function(c){var e=b.defer(),f=function(a){return e.resolve(a.data)},g=function(a){500==a.status&&alert(d.ServerError)};return a.get(c).then(f,g),e.promise},g=function(c,e){var f=b.defer(),g=function(a){return f.resolve(a.data)},h=function(a){if(500==a.status)alert(d.ServerError);else if(403==a.status)return f.reject(a)};return a.post(c,e).then(g,h),f.promise};this.get_basic_book_details=function(a){return f("/api/v0/basic_book?id="+a)},this.handle_facebook_books=function(a){return g("/api/v0/fb_books",a)},this.get_book_details=function(a){return f("/api/v0/book?"+a)},this.handle_influential_books=function(a,b){return f("/api/v0/influential_books?id="+a+"&status="+b)},this.get_books_bookmarked=function(a){return f("/api/v0/books_bookmarked?skip_count="+a+"&id="+e())},this.get_books_read=function(a){return f("/api/v0/books_read?skip_count="+a+"&id="+e())},this.search_books=function(a,b){return f("/api/v0/search?q="+a+"&skip="+b+"&type=Book")},this.get_popular_books=function(a){return f("/api/v0/popular_books?q="+a)},this.books_on_signup=function(a){return f("/api/v0/books_on_signup?q="+a)},this.endorse_book=function(a,b){return f("/api/v0/endorse_book?id="+a+"&status="+b)},this.update_visited=function(a){return f("/api/v0/update_visited?id="+a)},this.get_feed=function(a,b){return f("/api/v0/book_feed?id="+a+"&skip_count="+b)},this.rate_book=function(a,b){return f("/api/v0/rate?id="+a+"&data="+b)},this.get_real_news=function(a){return f("/api/v0/book_news?id="+a)},this.get_borrow_users=function(a){return f("/api/v0/borrow_users?id="+a)}}]);