!function(a,b,c){"use strict";function d(){}function e(){}var f,g,h={full:"0.0.1-f770de9",major:"0",minor:"0",dot:"1",codeName:"badger"},i={"false":!1,"true":!0,"":!0},j=function(a,b,c){Object.defineProperty?Object.defineProperty(a,b,{get:c,set:function(){},configurable:!1,enumerable:!0}):a.__defineGetter__?a.__defineGetter__(b,c):a[b]=c()},k=/^(\s*(\.-?([a-z\u00A0-\u10FFFF]|(\\\d+))([0-9a-z\u00A0-\u10FFFF_-]|(\\\d+))*)\s*)+$/i,l=function(){var b="matches matchesSelector msMatchesSelector mozMatchesSelector webkitMatchesSelector oMatchesSelector".split(" ");if("function"==typeof a.Element&&"object"==typeof a.Element.prototype)for(var c=0,d=b.length;d>c;++c){var e=b[c];if("function"==typeof a.Element.prototype[e]){var f=a.Element.prototype[e];return function(a,b){return f.call(a[0],b)}}}return"function"==typeof $&&"function"==typeof $.prototype.is?function(a,b){return a.is(b)}:"function"==typeof Sizzle&&"function"==typeof Sizzle.matchesSelector?function(a,b){return Sizzle.matchesSelector(a[0],b)}:function(a,b){if(b&&k.test(b))return b=b.replace(/\s+/g,"").replace("."," ").replace(/^\s+/,"").replace(/\s+$/,""),a.hasClass(b);throw Error("Only class-based selectors are supported in this browser.")}},m={nodeEq:function(a,b){return typeof("string"===a.nodeName?a.nodeName.toLowerCase():a[0].nodeName).toLowerCase()===b},offset:function(a){a=a.length?a[0]:a;var b={top:0,left:0},c=a&&a.ownerDocument;return c?(c=c.documentElement,m.contains(c,a)?(angular.isFunction(a.getBoundingClientRect)&&(b=a.getBoundingClientRect()),a=m.window(c),{top:b.top+a.pageYOffset-c.clientTop,left:b.left+a.pageXOffset-c.clientLeft}):b):void 0},contains:function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!m.contains(c,d))},window:function(a){return a="undefined"==typeof a.nodeName&&"number"==typeof a.length?a[0]:a,m.isWindow(a)?a:9===a.nodeType&&a.defaultView||a.ownerDocument&&(a.ownerDocument.defaultView||a.ownerDocument.parentWindow)},isWindow:function(a){return a&&a.document&&a.location&&a.alert&&a.setInterval},swapCss:function(a,b,c,d){var e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];c=c.apply(a,d||[]);for(e in b)a.style[e]=f[e];return c},swapDisplay:/^(none|table(?!-c[ea]).+)/,cssShow:{position:"absolute",visibility:"hidden",display:"block"},size:function(a){function b(a){return{width:a.offsetWidth,height:a.offsetHeight}}var c=angular.element(a);return a=a.nodeName?a:a[0],0===a.offsetWidth&&m.swapDisplay.test(c.css("display"))?m.swapCss(a,m.cssShow,b,[a]):b(a)},keepSize:function(a){return a=m.size(a),a.width+="px",a.height+="px",a},closest:function(a,b){if(a=angular.element(a),$.fn&&angular.isFunction($.fn.closest))return a.closest(b);a=a[0],b=b.toLowerCase();do if(a.nodeName.toLowerCase()===b)return angular.element(a);while(a=a.parentNode)}},n={dragKeepSize:"keepSize",dragWithin:"dragWithin"},o=["$drag","$document","$interpolate","$timeout",function(a,b,c){return{restrict:"A",link:function(b,d,e){var f={};angular.forEach(n,function(a,d){if("undefined"!=typeof e[d]){var g;a:if(g=c(e[d],!1)(b),"string"==typeof g){var h;if(i.hasOwnProperty(g)){g=i[g];break a}h=parseInt(g,10),h===h&&(g=h)}f[a]=g}}),a.draggable(d,f)}}}],p=function(){function b(b){return angular.isUndefined(b)&&(b=a.event||{pageX:0,pageY:0,preventDefault:function(){}}),angular.isFunction(b.preventDefault)||(b.preventDefault=function(){}),b}function e(a){if("undefined"!=typeof a&&0!==a.length){var b=m.offset(a);return a=m.size(a),b.right=b.left+a.width,b.bottom=b.top+a.height,b}}this.$get=["$document","$drop",function(a,g){var i={isDraggable:function(a){return!!i.draggable(a,!1)},draggable:function(a,b){a=angular.element(a);var e=a.data("$draggable");return e?e:!1===b?c:(b=angular.extend({delay:500,distance:1},b||{}),e=new d,e.element=a,e.options=b,a.on("mousedown",e.dragStart),a.data("$draggable",e),e)}};return d.prototype={constructor:d,dragStart:function(c){c=b(c),c.preventDefault();var g=angular.isObject(this)&&this.constructor===d?this:i.draggable(this);if(f&&f.dragEnd(c),f=g,g.cssDisplay=g.element.css("display"),g.dimensions=m.size(g.element),g.hanging||(g.cssPosition=g.element.css("position"),g.options.keepSize&&(g.keepSize={width:g.element[0].style.width,height:g.element[0].style.height},g.element.css(m.keepSize(g.element)))),"string"==typeof g.options.dragWithin){var h;h=g.options.dragWithin;var j=g.element;h=""!==h.length?e(/^(\.|#)/.test(h)&&$.fn&&angular.isFunction($.fn.closest)?j.parent().closest(h):/^(\^|parent)$/.test(h)?j.parent():m.closest(j.parent(),h)):void 0,g.constraints=h}g.offset=g.positionAbs=m.offset(g.element),g.offset.scroll=!1,angular.extend(g.offset,{click:{top:c.pageY-g.offset.top,left:c.pageX-g.offset.left}}),g.lastMouseY=c.pageY,g.lastMouseX=c.pageX,g.startEvent=c,g.element.css({position:"absolute",left:g.offset.left,top:g.offset.top}),a.on("mousemove",g.drag),a.on("mouseup",g.dragEnd)},dragEnd:function(b){b.preventDefault(),a.off("mousemove",self.drag),a.off("mouseup",self.dragEnd),g.drop(b)},drag:function(a){a=b(a),a.preventDefault();var c=f;if(c){var d=c.element.prop("style"),e=a.pageY;a=a.pageX;var g,h=d.left||0;g=parseInt(d.top||0,10)+(e-c.lastMouseY),h=parseInt(h,10)+(a-c.lastMouseX),(!c.constraints||h>=c.constraints.left&&h+c.dimensions.width<=c.constraints.right&&g>=c.constraints.top&&g+c.dimensions.height<=c.constraints.bottom)&&(d.left=h+"px",d.top=g+"px"),c.lastMouseY=e,c.lastMouseX=a}},finish:function(){this.element.css({position:this.cssPosition}),f=this.dimensions=c}},j(i,"current",function(){return f}),j(i,"version",function(){return h}),i}],j(this,"version",function(){return h})},q=["$drop","$parse",function(a,b){return{restrict:"A",compile:function(){return function(c,d,e){c=b(e.dropAllowed||"undefined")(c),d=a.droppable(d),c&&d.allowedSelectors(c)}}}}],r=function(){this.$get=["$document","$rootScope",function(i,k){var m={isDroppable:function(a){return!!$drag.droppable(a,!1)},droppable:function(a,b){a=angular.element(a);var d=a.data("$droppable");return d?d:!1===b?c:(b=angular.extend({constraints:null,delay:500,distance:1},b||{}),d=new e,d.element=a,d.options=b,a.data("$droppable",d),d)},drop:function(d,e){function g(){i.hanging=!0,i.element.css({display:i.cssDisplay}),f=c,k.$emit("$badDrop",i)}if(f&&("undefined"==typeof d&&(d=a.event),angular.isObject(d)&&("number"==typeof d.clientX&&"number"==typeof d.clientY?(e=d.clientY,d=d.clientX):"number"==typeof d.left&&"number"==typeof d.top&&(e=d.top,d=d.left)),"number"==typeof d&&"number"==typeof e)){var h,i=f;return i.element.css({display:"none"}),(h=b.elementFromPoint(d,e))?(3===h.nodeType&&(h=h.parentNode),h=angular.element(h),h=h.inheritedData("$droppable"),h&&this.dropAllowed(h,i.element)?(h.drop(i),!0):g()):g()}},dropAllowed:function(a,b){var c=a.allowedSelectors();if(!c||!angular.isArray(c))return!0;for(var d=0;d<c.length;++d){var e=c[d];if("string"==typeof e){var f=b;if("function"!=typeof g&&(g=l()),g(f,e))return!0}}return!1}};return e.prototype={constructor:e,drop:function(a,b){a=a||f,("number"==typeof a.length||a.nodeName)&&(a=angular.element(a).data("$draggable")),a&&a.constructor===d&&(b=angular.extend(b||{},{display:a.cssDisplay}),this.element.append(a.element),a.options.keepSize&&(a.element.css(a.keepSize),a.keepSize=c),a.element.css({display:b.display}),a.hanging=!1,k.$$phase||k.$apply(),a.finish())},allowedSelectors:function(a){return 0<arguments.length?("string"==typeof a&&(a=a.split(",")),angular.isArray(a)&&(this.allowed=a),this):this.allowed}},j(m,"version",function(){return h}),m}],j(this,"version",function(){return h})},s=function(){this.$get=[function(){var a={};return j(a,"current",function(){return f}),j(a,"version",function(){return h}),a}],j(this,"version",function(){return h})};!function(){angular.module("ui.drop",[],["$provide",function(a){a.provider({$dnd:s,$drag:p,$drop:r})}]).directive({draggable:o,droppable:q})}()}(window,document);