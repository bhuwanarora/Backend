homeApp.controller("homeController",["$scope","$rootScope","userService","$mdBottomSheet","shelfService","$timeout",function(a,b,c,d,e,f){a.goto_community_page=function(a){c.news_visited(a),window.location.href="/community?q="+a},a.show_shelf_bottom_sheet=function(a,c){b.bookmark_object={type:c,id:a},d.show({templateUrl:"assets/angular/html/shared/shelf_bottom_sheet.html",controller:"shelfController",targetEvent:event}),event.stopPropagation()};!function(){var b=(function(){a.feed=[];for(var b=0;10>b;b++)a.feed=a.feed.concat([{communities:[]}])}(),f(function(){c.get_blog_feed().then(function(b){a.feed=b.concat(a.feed)})},1e3));a.$on("destroy",function(){f.cancel(b)}),c.get_feed().then(function(b){angular.forEach(a.feed,function(a,c){a.communities=a.communities.concat(b[c].communities),angular.forEach(a.communities,function(a){a.view_count=100}),delete b[c].communities,a=angular.extend(a,b[c])})})}()}]);