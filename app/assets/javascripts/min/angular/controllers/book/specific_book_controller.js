homeApp.controller("specificBookController",["$scope","$rootScope","$timeout","bookService","$mdToast","$location","$mdBottomSheet","ColorConstants",function(a,b,c,d,e,f,g,h){a.toggle_endorse=function(){a.book.endorse_status?a.book.endorse_status=!1:a.book.endorse_status=!0,d.endorse_book(b.active_book.book_id,a.book.endorse_status),e.show({controller:"toastController",templateUrl:"assets/angular/html/shared/toast/endorse_action.html",hideDelay:6e3,position:a.getToastPosition()})},a.getToastPosition=function(){return Object.keys(a.toast_position).filter(function(b){return a.toast_position[b]}).join(" ")},a.rate_book=function(a){d.rate_book(a.book_id,a.user_rating)},a.load_sample_read=function(){};var i=function(){var c=/[?&]([^=#]+)=([^&#]*)/g,e=c.exec(f.absUrl());if(null!=e)var g=e[2];if(angular.isDefined(b.active_book))if(angular.isDefined(b.active_book.id))var i=b.active_book.id;else var i=b.active_book.book_id;else var i=g;var j="id="+i;a.book_loading=!0,d.get_book_details(j).then(function(c){var d=null!=c.endorse_status,e=null!=c.status,f=Math.floor(Math.random()*h.value.length),g={endorse_status:d,status:e,color:h.value[f]};angular.isDefined(b.active_book)?a.book=angular.extend(b.active_book,c):a.book=c,a.book=angular.extend(a.book,g),b.active_book=a.book,a.book_loading=!1}),d.update_visited(i),a.toast_position={bottom:!1,top:!0,left:!1,right:!0},a.constant={show_book:!0}};i()}]);