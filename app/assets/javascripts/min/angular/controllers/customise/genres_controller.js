homeApp.controller("genresController",["$scope","$rootScope","$timeout","userService","genreService","WebsiteUIConstants","$mdToast",function(a,b,c,d,e,f,g){a.save_genre=function(a){var b={genre:a.id,status:!0};d.save_user_info(b)},a.remove_genre=function(a){var b={genre:a.id,status:!1};d.save_user_info(b)},a.edit_genres_like=function(){a.goto_info_card(),b.user.profile_status=1,a._get_genres()},a._get_genres=function(){a.info.loading=!0,(angular.isUndefined(a.info.genres)||0==a.info.genres.length)&&(a.info.genres=[],e.get_genres().then(function(b){angular.forEach(b,function(a){var b=0!=a.likes_weight&&null!=a.likes_weight,c=f.GenreAWS+a.root_category_aws_key,d=angular.extend({status:b,url:c},a);this.push(d)},a.info.genres),a.info.loading=!1}))},a.select_genre=function(b){if(b.status){b.status=!1;var c={category_id:b.root_category_id,status:!1}}else{b.status=!0;var c={category_id:b.root_category_id,status:!0}}g.show({controller:"toastController",templateUrl:"assets/angular/html/shared/toast/select_genre.html",hideDelay:6e3,position:a.getToastPosition()}),d.save_user_info(c)},a.getToastPosition=function(){return Object.keys(a.toast_position).filter(function(b){return a.toast_position[b]}).join(" ")},_init=function(){a.toast_position={bottom:!1,top:!0,left:!1,right:!0};var b=c(function(){a._get_genres()},100);a.$on("destroy",function(){c.cancel(b)})},_init()}]);