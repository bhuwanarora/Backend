<md-bottom-sheet class="share_bottom_list" 
    ng-controller="shelfController" layout-padding
    ng-click="stop_propagation($event)">
    <div layout="column" flex layout-fill>
        <md-content class="book_list">
            <section>
                <md-subheader>
                    <div layout-padding>Add to</div>
                </md-subheader>
                <md-list layout="row" layout-fill layout-wrap>
                    <md-item ng-repeat="label in labels | limitTo: 4" ng-hide="show_all">
                        <md-checkbox ng-model="data.cb1" aria-label="{{label.label_id}}" class="md-warn" 
                                    ng-click="toggle_bookmark(label, data.cb1)" >
                            {{label.label_name}}
                        </md-checkbox>
                    </md-item>
                    <md-item ng-repeat="label in labels" ng-show="show_all">
                        <md-checkbox ng-model="data.cb1" aria-label="{{label.label_id}}" class="md-warn" 
                                    ng-click="toggle_bookmark(label, data.cb1)" >
                            {{label.label_name}}
                        </md-checkbox>
                    </md-item>
                </md-list>
                <md-button class="md-button-clear show_more" flex ng-click="toggle_shelves()">
                    <span ng-if="!show_all">More Shelves </span>
                    <span ng-if="show_all">Less Shelves </span>
                    <span ng-if="!show_all" class="icon-angle-down"></span>
                    <span ng-if="show_all" class="icon-angle-up"></span>
                </md-button>
            </section>
        </md-content>
        <md-divider></md-divider>
        <section layout="column" class="footer" layout-padding layout-align="end end">
            <div layout="row">
                <md-input-container class="clear">
                    <label>Create New...</label>
                    <input ng-model="new_label"/>
                </md-input-container>
                <md-button ng-click="add_new_label()" class="md-button-clear md-raised md-primary">
                    <span class="icon-plus"></span>
                </md-button>
                <div layout-padding></div>
                <div layout-padding></div>
            </div>
            <div layout-padding></div>
            <div layout-padding></div>
            <div layout-padding></div>
        </section>
    </div>
</md-bottom-sheet>

<style>
    md-content.md-default-theme {
        background-color: white;
    }

    .share_bottom_list{
        height: 60vh !important;
    }

    .book_list{
        position: absolute;
        top: 5px !important;
        height:75vh !important;
        width: 100vw !important;
    }

    .footer{
        position: fixed;
        bottom: 5px !important;
        width: 100vw !important;
        background-color: white;
    }

    .md-subheader:not(.md-sticky-no-effect)[sticky-state=active] {
        margin-top: 0px !important;
    }

    .show_more{
        border: 1px solid #CACACA;
    }
</style>