<div ng-controller="realVirtualityController">
    <md-radio-group layout="row" 
        layout-sm="column" 
        ng-model="active_community.id"
        ng-change="change_news()">
        <md-radio-button ng-repeat="community in communities" 
                        class="md-warn" 
                        ng-value="community.id">
            {{community.name}}
        </md-radio-button>
    </md-radio-group>
   
     <section layout="row" layout-wrap ng-repeat="news in active_community.news" ng-if="active_community.news">
        <div flex="10" layout-align="center center" layout="row">
            <div>{{news.created_at | timestamp | date:'dd MMM'}}</div>
        </div>
         <div flex="10" layout-align="center center" layout="row">
            <img class="circular"
                 ng-src="{{news.image_url | default_profile}}"/>
        </div>
         <div flex="80" layout-align="start start" layout="column" class="small-padding">
            <a ng-href="/community?id={{news.news_id}}">
                <h4 ng-bind-html="news.title"></h4>
            </a>
            <div ng-bind-html="news.description"></div><br/>
            <a ng-href="{{news.news_url}}" class="less_important" target="_blank">Source</a>
         </div>
     </section>
     <section ng-if="!active_community.news" layout-padding>
         <h1>We're searching for news from the real world for this book. Please come back later.</h1>
     </section>
      <md-progress-linear class="md-primary loader"
                        ng-show="book_loading"
                        md-mode="indeterminate">
    </md-progress-linear>
</div>