<md-content ng-controller="realVirtualityController" class="white book_page" check-scroll-bottom="load_news()">
    <div class="less_important bold" layout-padding>
        Real Virtuality is seeing the world through the eyes of a book.
    </div>
    
    <section layout="row" layout-sm="column">
        <div flex="30" flex-sm="100" layout="column" layout-align="start start">
            <md-radio-group layout="row" layout-align="start center"
                layout-padding ng-change="load_news()"
                layout-wrap ng-model="active_community">
                <md-radio-button ng-repeat="community in communities" 
                                class="md-warn" layout="row" layout-margin
                                ng-value="community">
                    <img ng-src="{{::community.image_url}}" class="circular">
                    <div ng-bind-html="::community.name" layout-padding></div>
                </md-radio-button>
            </md-radio-group>        
        </div>
        <div flex="60" layout="column" flex-sm="100">
             <section layout="row" layout-sm="column" layout-wrap
                ng-repeat="news in active_community.news" 
                ng-if="active_community.news"
                layout-align="start start" layout="column" class="small-padding" flex-sm="100">
                <div>
                    <a ng-href="/news?id={{::news.news_id}}">
                        <div ng-bind-html="::news.title" class="big_title"></div>
                    </a>
                </div>
                <div class="less_important">{{news.created_at | timestamp | date:'dd MMM'}}</div>
                <div>
                    <a ng-href="{{::news.news_url}}" class="less_important" target="_blank">{{news.news_url}}</a>
                </div>
                <div ng-bind-html="::news.description"></div>
             </section>
        </div>
        <div flex="10" hide-sm></div>
    </section>
     <section ng-if="!active_community.news && !info.loading" layout-padding>
         <div class="big_title">We're searching for news from the real world for this book. Please come back later.</div>
     </section>
     <section ng-if="!active_community.news && info.loading" layout-padding class="less_important">
         Searching...
     </section>
</md-content>
<style>
    .md-switch-thumb .md-container, 
    md-radio-button .md-container{
        display: none;
    }

    .md-checked img{
        border: 6px solid #219653;
    }

    .md-switch-thumb .md-label, 
    md-radio-button .md-label{
        flex-direction: row;
        display: flex;
    }
</style>