<div class="md-whiteframe-z1 book animate-fast" ng-style="book_style" flex="100">
     <md-progress-linear class="md-primary loader"
                        ng-show="book_loading"
                        md-mode="indeterminate">
    </md-progress-linear>
    <div class="light_grey">
        <div layout="row">
            <md-tabs md-selected="data.selectedIndex" flex>
                <md-tab id="tab1" aria-controls="tab1-content" class="padding" ng-disabled="info.loading">
                    <div layout="row">
                        <img ng-src="{{book.isbn | small_thumb}}" width="40px" height="50px" layout-padding/>
                        <div>
                            {{book.title}}
                        </div>
                    </div>
                </md-tab>
               <!--  <md-tab ng-click="load_sample_read()">
                    Sample Read
                </md-tab> -->
                <md-tab id="tab2" aria-controls="tab2-content" class="padding" ng-disabled="info.loading">
                    Real Virtuality
                </md-tab>
                <md-tab id="tab3" aria-controls="tab3-content" class="padding" ng-disabled="info.loading">
                    Timeline
                </md-tab>
                <md-tab id="tab4" aria-controls="tab4-content" class="padding" ng-disabled="info.loading">
                    Get this book
                </md-tab>
                <md-tab id="tab5" aria-controls="tab5-content" class="padding" ng-disabled="info.loading">
                    Preview
                </md-tab>
            </md-tabs>
        </div>
    </div>
    <div layout-padding class="yellow">
        <div layout="row" layout-align="space-between">
            <div class="bold less_important white_color pointer" ng-click="hide_rating = !hide_rating;">
                Rate this book {{book.user_rating}}/10
            </div>
            <div>
                <i class="material-icons pointer white_color" ng-show="!hide_rating" ng-click="hide_rating = true;">add</i>
                <i class="material-icons pointer white_color" ng-show="hide_rating" ng-click="hide_rating = false;">close</i>
            </div>
        </div>
         <md-slider flex="20" md-discrete 
                class="rate_slider" ng-show="hide_rating"
                ng-model="book.user_rating" ng-change="rate_book(book)"
                step="1" min="1" max="10" aria-label="rating">
        </md-slider>
    </div>
    <ng-switch on="data.selectedIndex" class="tabpanel-container">
        <div role="tabpanel"
             id="tab1-content"
             aria-labelledby="tab1"
             ng-switch-when="0"
             md-swipe-left="next()"
             md-swipe-right="previous()" 
             class="white">
            <div ng-include src="'/assets/angular/html/book/_overview.html'"></div>
        </div>
        <!-- <div role="tabpanel"
             id="tab2-content"
             aria-labelledby="tab2"
             ng-switch-when="1"
             md-swipe-left="next()"
             md-swipe-right="previous()" 
             class="white">
            <div ng-include src="'/assets/angular/html/book/_sample.html'"></div>
        </div> -->
        <div role="tabpanel"
             id="tab3-content"
             aria-labelledby="tab2"
             ng-switch-when="1"
             md-swipe-left="next()"
             md-swipe-right="previous()" 
             class="white">
            <div ng-include src="'/assets/angular/html/book/_news.html'"></div>
        </div>
        <div role="tabpanel"
             id="tab4-content"
             aria-labelledby="tab3"
             ng-switch-when="2"
             md-swipe-left="next()"
             md-swipe-right="previous()">
             <div ng-include src="'/assets/angular/html/book/_timeline.html'"></div>
        </div>
        <div role="tabpanel"
             id="tab5-content"
             aria-labelledby="tab4"
             ng-switch-when="3"
             md-swipe-left="next()"
             md-swipe-right="previous()" 
             class="white">
            <div ng-include src="'/assets/angular/html/book/_buy.html'"></div>
        </div>
        <div role="tabpanel"
             id="tab6-content"
             aria-labelledby="tab5"
             ng-switch-when="4"
             md-swipe-left="next()"
             md-swipe-right="previous()" 
             class="white">
            <div ng-include src="'/assets/angular/html/book/_book_embed.html'"></div>
        </div>
    </ng-switch>
</div>