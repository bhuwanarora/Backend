<md-button class="follow_author md-button-clear" 
           ng-class="{'md-raised': !author.status}" 
           ng-click="toggle_follow()">
    <span ng-if="!author.status">Follow</span>
    <span ng-if="author.status">Following</span>
</md-button>
<div class="author_book_cover"
    parallax-background parallax-ratio="0.9"
    layout-align="center center"
    layout="column"
    ng-if="author.books.length != 0"
    id="{{author.books[0].id}}"
    ng-style="author.books[0].custom_style || custom_style">
    <div ng-include src="'/assets/angular/html/shared/partials/author_name.html'"></div>
</div>
<div layout-padding class="book_description" 
     parallax-background parallax-ratio="0.7"
     ng-if="author.books.length != 0">
    <div layout="row" class="full_width">
        <div flex="25" flex-md="15" flex-sm="10"></div>
        <div flex="50" flex-md="70" flex-sm="80" layout="row" layout-sm="column">
            <div flex-gt-md="30" flex-md="40" layout="column" layout-padding>
                <div ng-init="book = author.books[0]" 
                     ng-include src="'/assets/angular/html/shared/partials/book_thumb.html'">
                </div>
                <md-button class="md-button-clear md-primary md-raised book_width" 
                            ng-click="show_buy_dialog($event, author.books[0])">
                    Get this book
                </md-button>
            </div>
            <div flex-gt-md="70" flex-md="60" layout="column" layout-padding>
                <h2><a ng-href="/book?q={{author.books[0].id}}">{{author.books[0].title}}</a></h2>
                <div>{{author.books[0].description}}</div>
            </div>
        </div>
        <div flex="25" flex-md="15" flex-sm="10"></div>
    </div>
</div>
<div class="author_book_cover" 
     layout-align="center center" layout="column"
     parallax-background parallax-ratio="0.9"
     ng-style="{'background-color': (author.books[0].color ||  custom_color)}">
     <div ng-include src="'/assets/angular/html/shared/partials/author_name.html'" ng-if="author.books.length == 0"></div>
     <div class="nav_icons" layout="row" ng-if="author.books.length != 0">
        <md-button ng-click="previous_block(0)"><span class="icon-angle-up"></span></md-button>
        <md-button ng-click="next_block(0)"><span class="icon-angle-down"></span></md-button>
    </div>
</div>
<div class="relative" flex="100">
    <div layout="row" flex="100" layout-align="center center" class="author_image_container">
        <img ng-src="{{author.id | author_thumb}}" class="circular author_image"> 
    </div>
    <!-- <div class="md-primary clear author_header" layout="row" rd-sticky>
        <md-tabs layout-align="center center" layout="row"
            layout-md="column" hide-sm hide-md>
            <md-tab layout-padding>{{author.books[0].title}}</md-tab>
            <md-tab layout-padding>About</md-tab>
            <md-tab layout-padding>Timeline</md-tab>
            <md-tab layout-padding>News</md-tab>
            <md-tab layout-padding>Discussion</md-tab>
        </md-tabs>
    </div> -->
</div>
<div layout-padding class="book_description" parallax-background parallax-ratio="0.7">
    <md-button class="burger_button" ng-click="show_authors_nav($event)" hide show-sm show-md>
        <span class="icon-menu2"></span>
    </md-button>
    <md-sidenav class="md-sidenav-left" md-component-id="authors_detail_sidenav">
        <div ng-include src="'/assets/angular/html/author/author_left_nav.html'"></div>
    </md-sidenav>
    <div layout="row" layout-sm="column">
        <div flex="25"></div>
        <div flex="50" flex-sm="100" layout="column" layout-align="center center">
            <h2>WHO IS {{author.name | uppercase}}</h2>
            <div>{{author.overview}}</div>
        </div>
        <div flex="25"></div>
    </div>
    <md-card class="light_grey" ng-if="wiki_url">
        <md-card-content ng-click="toggle_wiki()" layout="row" layout-align="space-between" class="pointer">
            <div>
                <span ng-show="!show_author_wiki" class="icon-angle-down"></span>
                <span ng-show="show_author_wiki" class="icon-angle-up"></span>
            </div>
            <md-button class="clear">
                <span>More on </span>
                <span><a ng-href="{{wiki_url}}" target="_blank">Wikipedia</a></span>
            </md-button>
        </md-card-content>
        <md-card-content ng-show="show_author_wiki" class="animate-fast">
            <iframe ng-src="{{author.wiki_url}}" class="wiki" 
                    seamless="seamless"></iframe>
        </md-card-content>
    </md-card>
</div>

<section ng-repeat="book in author.books track by $index" 
         ng-if="author.books.length != 0"
         id="{{book.id}}">
    <div class="book_cover" layout-align-sm="center center" 
        layout-align-md="center center" layout="column" 
        parallax-background parallax-ratio="0.9"   
        layout-align-gt-md="center center"
        ng-style="book.custom_style">
        <div layout="row" layout-md="column" layout-sm="column">
            <div layout-margin layout-sm="column" layout-md="row" layout-align-sm="center center"
                ng-if="book.published_year">
                <h1 flex-md="50" flex-order-sm="2" flex-order-md="2">
                    <div>{{book.published_year}}</div>
                </h1>
                <h3 flex-md="50" flex-order-sm="1" flex-order-md="1">
                    <div>Published In</div>
                </h3>
            </div>
         </div>
         <div class="nav_icons" layout="row">
            <md-button ng-click="previous_block($index)"><span class="icon-angle-up"></span></md-button>
            <md-button ng-click="next_block($index)"><span class="icon-angle-down"></span></md-button>
         </div>
    </div>
    <div layout-padding class="book_description" parallax-background parallax-ratio="0.7">
        <div layout="row">
            <div flex="25" flex-md="15" flex-sm="10"></div>
            <div flex="50" flex-md="70" flex-sm="80" layout="row" layout-sm="column">
                <div flex-gt-md="30" flex-md="40" layout="column" layout-padding>
                    <div ng-include src="'/assets/angular/html/shared/partials/book_thumb.html'"></div>
                    <div flex="5"></div>
                    <md-button class="md-button-clear md-primary md-raised book_width" 
                                ng-click="show_buy_dialog($event, book)">
                        Get this book
                    </md-button>
                </div>
                <div layout="column" flex-gt-md="70" flex-md="60" layout-padding>
                    <h2><a ng-href="/book?q={{book.id}}">{{book.title}}</a></h2>
                    <div>{{book.description}}</div>
                    <div>
                        <a ng-href="{{book.wiki_url}}" ng-if="book.wiki_url">more on wiki</a>
                    </div>
                </div>
            </div>
            <div flex="25"></div>
        </div>
    </div>
</section>

<style>
    .book_width{
        width: 130px;
    }

    .follow_author{
        position: fixed;
        z-index: 2;
        right: 10px;
        top: 67px;
    }
</style>