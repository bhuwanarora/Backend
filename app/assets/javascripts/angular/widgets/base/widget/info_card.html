

<div ng-if="user.logged">
     <div class="compressed_info_card animate-fast grey_color" 
     	  ng-class="{'compressed_info_card_shifted': user.collapsed_column && user.collapsed_filters}">
     	<div class="block"
     		ng-click="edit_genres_like();"
     		title="Edit genres you like">
     		<span ng-class="{'site_color': user.profile_status==1}">
	     		<span class="icon-tags"></span>
	     		<span ng-show="user.collapsed_column && user.collapsed_filters">&nbsp;Genres</span>
	     	</span>
     	</div>
     	<div class="block"
     		ng-click="edit_books_read();"
     		title="Edit books you have read">
     		<span ng-class="{'site_color': user.profile_status==2}">
	     		<span class="icon-books"></span>
	     		<span ng-show="user.collapsed_column && user.collapsed_filters">&nbsp;Books Read</span>
	     	</span>
     	</div>
     	<div class="block"
     		ng-click="edit_authors_read();"
     		title="Edit authors you like">
     		<span ng-class="{'site_color': user.profile_status==3}">
	     		<span class="icon-pen"></span>
	     		<span ng-show="user.collapsed_column && user.collapsed_filters">&nbsp;Follow Authors</span>
	     	</span>
     	</div>
     	<div class="block"
     		ng-click="goto_info_card(); user.profile_status=4;"
     		title="Invite friends">
     		<span ng-class="{'site_color': user.profile_status==4}">
	     		<span class="icon-users"></span>
	     		<span ng-show="user.collapsed_column && user.collapsed_filters">&nbsp;Barter</span>
     		</span>
     	</div>
     	<div class="block"
     		ng-click="goto_info_card(); user.profile_status=0;"
     		title="Edit personal details">
     		<span ng-class="{'site_color': user.profile_status==0}">
	     		<span class="icon-cogs"></span>
	     		<span ng-show="user.collapsed_column && user.collapsed_filters">&nbsp;Settings</span>
	     	</span>
     	</div>
     </div>
     <div class="wrapper" 
     	  msd-wheel="stop_propagation($event);"
     	  ng-click="user.compressed_info = true; user.profile_status = null;"
          ng-show="!user.compressed_info">
	     <div ng-click="stop_propagation($event);"
	     		class="info_cards animate-fast"
	 	 		ng-switch on="user.profile_status" 
	 	 		ng-model="user.profile_status">
			<!-- <div class="back_color" style="background-color:{{user.profile_status_color}}"></div> -->
			<!-- <div>
				<div class="arrow_box" style="z-index:6">Basic</div>
				<div class="arrow_box arrow_box_type2" style="z-index:5">Genres</div>
				<div class="arrow_box arrow_box_type2" style="z-index:4">Books</div>
				<div class="arrow_box arrow_box_type2" style="z-index:3">Authors</div>
				<div class="arrow_box arrow_box_type2" style="z-index:2">More</div>
			</div> -->
			<div class="profile_status_logo"></div>
			<div ng-switch-when="0">
				<div class="sub_header"><b>Tell us about yourself, <span class="site_color">{{user.name}}</span></b></div>
				<div>
					<input class="input_30" 
		      	       ng-model="user.name" 
		      	       placeholder="Enter your name" 
		      	       spellcheck="false"
		      	       focus-out="set_user_name()"/>
		      	    <input class="input_50" 
		      	    	type="email" 
		      	       ng-model="user.email"
		      	       placeholder="Enter your email id"
		      	       spellcheck="false"
		      	       focus-out="set_email()"/>
				</div>
		      	<div class="header">
		      		<label for="birthday">Born on</label>&nbsp;&nbsp;
					 <calendar save-date="set_date_of_birth()"></calendar>
		      	</div>
		      	<hr/>
		      	<div class="header">
		      		<form name="gender_form">
		  				<label for="gender">Gender</label>&nbsp;&nbsp;
				  		<input type="radio" ng-model="user.gender" value="Male" id="male"
				  				ng-change="set_gender()"
				  				class="custom_radio icon-checkbox-unchecked">&nbsp;
		      			<label for="male">Male&nbsp;&nbsp;&nbsp;</label>

				  		<input type="radio" ng-model="user.gender" value="Female" id="female"
				  				ng-change="set_gender()"
				  				class="custom_radio icon-checkbox-unchecked">&nbsp;
				  		<label for="female">Female&nbsp;&nbsp;&nbsp;</label>

				  		<input type="radio" ng-model="user.gender" value="Other" id="other" 
				  				ng-change="set_gender()"
				  				class="custom_radio icon-checkbox-unchecked">&nbsp;
				  		<label for="other">Other&nbsp;&nbsp;&nbsp;</label>
					</form>
		      	</div>
		      	<hr/>
		      	<div class="header">
	      			<form name="book_count_form">
	      				<label>I have read</label>&nbsp;&nbsp;
		      			<label ng-repeat="book_count in book_counts">
		      				<input type="radio" 
		      					   ng-model="user.init_book_read_count" 
		      					   ng-change="set_init_book_read_count()"
		      					   ng-value="book_count.name"
		      					   class="custom_radio icon-checkbox-unchecked">
		      				&nbsp;{{book_count.name}}&nbsp;&nbsp;&nbsp;
		      			</label>
	      			</form>
      			</div>
      			<hr/>
      				<!-- <cropme
			        width="info_card_width"
			        max-height="470"
			        ratio="info_card_ratio"
			        icon-class=""
			        type="png"
			        destination-width="350">
			    </cropme> -->
		      	<div ng-if="user.thumb">
			    	<img ng-src="{{user.thumb}}" class="profile_pic">
		      	</div>
		      	<!-- <hr/> -->
			</div>
			<!-- <div ng-switch-when="1">
				<div class="wrap_header header">
					<span>I am a</span>
		      		<span class="base_font_color dropdown"
				 		  dropdown-select="profileOptions" 
				 		  dropdown-onchange="user_profile_changed(selected)"
				 		  dropdown-model="profileSelected"
				 		  dropdown-item-label="name"></span>
				</div>
	      		<div ng-show="profileSelected.name == 'Reader'">
	      			<div class="header">
	      				I have read
		      			<form name="book_count_form">
			      			<label ng-repeat="book_count in book_counts">
			      				<input type="radio" 
			      					   ng-model="user.init_book_read_count" 
			      					   ng-change="set_init_book_read_count()"
			      					   ng-value="book_count.name"
			      					   class="custom_radio icon-checkbox-unchecked">
			      				&nbsp;&nbsp;&nbsp;{{book_count.name}}<br/>
			      			</label>
		      			</form>
	      			</div>
	      		</div>
	      		<div ng-show="profileSelected.name == 'Author'">
	      			<div class="header">
	      				I have written
		      			<form name="book_count_form">
			      			<label ng-repeat="book_count in book_counts">
			      				<input type="radio" 
			      					   ng-model="user.init_book_written_count" 
			      					   ng-change="set_init_book_written_count()"
			      					   ng-value="book_count.name"
			      					   class="custom_radio icon-checkbox-unchecked">
			      				&nbsp;&nbsp;&nbsp;{{book_count.name}}<br/>
			      			</label>
		      			</form>
	      			</div>
	      		</div>
		      	<div class="description">Know what people from your age and gender are reading..</div>
			</div> -->
			<div ng-switch-when="1">
				<div class="sub_header"><b>Which genres do you like, <span class="site_color">{{user.name}}</span></b></div>
				<div class="header">
					This will help us to recommend you better books...
				</div>
				<div class="header center scrollbar" msd-wheel="stop_horizontal_scroll($event)">
					<div ng-repeat="genre in info.genres  | orderBy:genre.name" class="block3">
						<toggle data="genre" on-select="save_genre(genre)" on-deselect="remove_genre(genre)"></toggle>
						<!-- <div class="filter inactive_filter">{{genre.name}}</div> -->
					</div>
				</div>
			</div>
			<div ng-switch-when="2">
				<div class="sub_header"><b>Add books you've read, <span class="site_color">{{user.name}}</span></b></div>
				<div class="header">
					We will notify you with any activity on these books...
				</div>
				<input ng-keydown="search_info_card($event, 'BOOK')" ng-model="info.search_book" placeholder="Search books..."/>
		      	
				<div class="scrollbar header" 
					msd-wheel="stop_horizontal_scroll($event)" check-scroll-bottom="get_popular_books()">
						<div class="book_column"
							 ng-repeat="book in popular_books" 
							 ng-class="{'selected': book.status}"
							 ng-click="mark_as_read(book, $event);">
							<img ng-src="{{book.isbn | small_thumb}}" 
								 class="book_thumb"/>
							<div class="book_details">
								<div>
									<span><b>{{book.title}}</b></span><br/>
									<span ng-show="book.author_name">Book by {{book.author_name}}</span>
								</div>
								<div>&nbsp;</div>
								<div ng-show="book.id" class="light_grey_color">
									<div ng-show="book.status" class="site_color">Added</div>
									<div ng-show="!book.status">
										<span>Add to</span>
										<span class='icon-books'></span>
										<span>Books Read</span>
									</div>
								</div>
							</div>
						</div>
						<div class="book_column">
							<img src="assets/loader2.gif" width="20px" ng-show="loading" class="loading_icon"/>
						</div>
				</div>
			</div>
			<div ng-switch-when="3">
				<div class="sub_header"><b>Add authors you like (Coming Soon)..., <span class="site_color">{{user.name}}</span></b></div>
				<div class="header">Follow authors and their lives...</div>
				<input ng-keydown="search_info_card($event, 'AUTHOR')" ng-model="info.search_author" placeholder="Search authors..."/>
				<div class="scrollbar header" 
					msd-wheel="stop_horizontal_scroll($event)" check-scroll-bottom="get_popular_authors()">
						<div class="book_column"
							 ng-repeat="author in popular_authors">
							
							<div class="book_details">
								<div>
									<span>{{author.name}}</span>
								</div>
							</div>
						</div>
						<div class="book_column">
							<img src="assets/loader2.gif" width="20px" ng-show="loading" class="loading_icon"/>
						</div>
				</div>
			</div>
			<div ng-switch-when="4">
				<div class="sub_header"><b>Share and borrow books from readers in your area (Coming Soon)..., <span class="site_color">{{user.name}}</span></b></div>
				<div class="header">Let's create a new kind of barter system for books...</div>
				<div ng-include src="'/assets/angular/widgets/partials/invite.html'"></div>
				<map style="display:block; height:50vh; width: 101%; margin-top: 10px;">
					<marker position="current" centered="true"></marker>
				</map>
			</div>
			
			
			<div class="footer">
				<span class="prev icon-angle-left grey_button" ng-click="prev_profile_state()"></span>
				<span class="next icon-angle-right grey_button" ng-click="next_profile_state()"></span>
			</div>
	     </div>
     	
     </div>
</div>
<!-- <div class="user_guide">
	<div class="close button_effect">x</div>
</div> -->