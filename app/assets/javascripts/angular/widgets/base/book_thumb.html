<div track 
	   ng-class="{'hidden_summary_button':!discovered}" 
	   class="summary_button_base animate-fast" 
     ns-popover
     ns-popover-template="popover"
     ns-popover-trigger="mouseover"
     ns-popover-timeout="0"
     ns-popover-placement="bottom|left">
	<span class="icon-file"></span> SUMMARY
</div>
<!-- ng-class="{'thumb':!hovered, 'thumb_hover':hovered, 'zoomedin_thumb': zoomin_book}"  -->
<div class="animate-fast book_thumb" 
     style="background:url({{book.book_thumb.book_cover_url}})"></div>
<div ng-if="read" class="stamp_read">
	<span class="glyphicon glyphicon-check"></span> READ
</div>
<svg xmlns="http://www.w3.org/2000/svg" style="position: absolute; height: 0px">
 <filter id="grayscale">
  <feColorMatrix type="matrix" values="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"/>
 </filter>
</svg>

<script type="text/ng-template" id="popover">
  <div class="triangle"></div>
  <div class="tooltip">
    <div class="header">
      <div class="title" ng-click="show_book(2)">
        <span itemprop= "name">{{book.title}}</span>
      </div>
      <div class="author" ng-click="show_book(16)">
        <span itemprop= "author">{{book.author_name}}</span>
      </div>
    </div>
    <hr>
    <div class="description">
      <span itemprop="description">{{book.summary}}</span>
    </div>
    <hr>
    <div class="users_count">{{book.users_count}} friends have read this</div>
    <div class="users">
      <div ng-repeat="user in book.users">
        <img ng-src="{{user.thumb}}"/>
      </div>
    </div>
    <div class="footer">
      <recommend></recommend>
      <span class="icons icon-share" 
            ng-mouseover="show_share_options()"
            ng-mouseout="hide_share_options()">
        <div ng-if="show_share_menu" class="share_menu">
          <div>Facebook</div>
          <div>Google</div>
          <div>Twitter</div>
        </div>
      </span>
      <span itemscope itemtype= "http://schema.org/BookmarkAction">
        <span class="icons icon-bookmark" 
              ng-class="{'active_bookmark':book.bookmark_status, 'inactive_bookmark':!book.bookmark_status}"
              ng-click="toggle_bookmarked()"
              ng-model="book.bookmark_status"
              title="bookmark"></span>
      </span>
      <span class="icons icon-location"
            ng-class="{'book_read':read, 'book_unread':!read}"
            title="mark as read"
            ng-model="read"
            ng-click="markAsRead()"></span>
    </div>
  </div>
</script>