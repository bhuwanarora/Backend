<div track 
	ng-class="{'summary_button':hovered && !expand, 'hidden_summary_button':!hovered, 'summary_button_expand':expand && hovered}" 
	class="summary_button_base animate-fast" 
     ns-popover
     ns-popover-template="popover"
     ns-popover-trigger="mouseover"
     ns-popover-timeout="0"
     ns-popover-placement="bottom|left">
	<span class="icon-file"></span> SUMMARY
</div>

<div ng-class="{'thumb':!hovered, 'thumb_hover':hovered, 'zoomedin_thumb': zoomin_book}" 
     class="animate-fast book_thumb" 
     style="background:url({{book.book_thumb.book_cover_url}})"></div>
<div ng-if="read" class="stamp_read">
	<span class="glyphicon glyphicon-check"></span> READ
</div>
<svg xmlns="http://www.w3.org/2000/svg" style="position: absolute; height: 0px">
 <filter id="grayscale">
  <feColorMatrix type="matrix" values="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"/>
 </filter>
</svg>

<script type="text/ng-template" id="popover">
  <div class="triangle"></div>
  <div class="tooltip">
    <div class="header">
      <div class="title" ng-click="show_book(2)">{{book.title}}</div>
      <div class="author" ng-click="show_book(16)">{{book.author_name}}</div>
    </div>
    <hr>
    <div class="description">{{book.summary}}</div>
    <hr>
    <div class="users_count">{{book.users_count}} friends have read this</div>
    <div class="users">
      <div ng-repeat="user in book.users">
        <img ng-src="{{user.thumb}}"/>
      </div>
    </div>
    <div class="footer">
      <span class="recommend">Recommend</span>
      <span class="close">Close</span>
      <span class="icons icon-share"></span>
      <span class="icons icon-bookmark"></span>
      <span class="icons icon-location"></span>
    </div>
  </div>
</script>