<div ng-if="show_more_filters"
	 class="more_filters animate-fast"
	 ng-click="stop_click_propagation($event)">	

	<div ng-if="!bookmark_selected && !read_selected">
		<!-- BOOK FILTERS -->
		<div class="full_width" ng-if="$routeParams.type == 'books'">
			<div ng-click="show_lists = false; handle_left_columns();" class="filter_header">
				<span class="icon-filter"></span><span>&nbsp;&nbsp;Main Filters</span>
			</div>
			<div class="filters_panel" ng-if="!show_lists && column_heights.show_filters">
			 	<type-ahead items="genres" 
			 				prompt="Filter by a Genre" 
			 				title="name"
			 				custom-options="z_index_two genre_typeahead_options"
			 				custom="input_filter"
			 				model="genre" 
			 				on-select="on_genre_selection(genre, $event)"
			 				auto-populate="show_genre_options('BOOK', genre)"
			 				on-clear="clear_filter('BOOK', 'genre')"
			 				ng-keypress="show_genre_options('BOOK', genre)">
			 	</type-ahead>
				<type-ahead items="authors" 
			 				prompt="Filter by Author Name"
			 				title="name"
			 				custom-options = "author_typeahead_options"
			 				custom="input_filter"
			 				model="author"
			 				on-clear="clear_filter('BOOK', 'author')"
			 				on-select="on_author_selection(author)"
			 				ng-keypress="show_author_options('BOOK', author)">
			 	</type-ahead>
			</div>
			
			<div class="filters_panel_right" ng-if="!show_lists && column_heights.show_filters">
			 	<div class="inline_block_left"
				 	  dropdown-select="countryOptions" 
				 	  dropdown-onchange="advance_filter_changed(selected, 'country')"
				 	  dropdown-model="countrySelected"
				 	  dropdown-item-label="name"></div>
			 	<div class="inline_block_left"
			 		  dropdown-select="readTimeOptions" 
			 		  dropdown-onchange="advance_filter_changed(selected, 'readingTime')"
			 		  dropdown-model="readTimeSelected"
			 		  dropdown-item-label="name"></div>
			 	<div class="inline_block_left"
			 		  dropdown-select="timeOptions" 
			 		  dropdown-onchange="advance_filter_changed(selected, 'timeGroup')"
			 		  dropdown-model="timeSelected"
			 		  dropdown-item-label="name"></div>
			</div>

			<div ng-click="show_lists = true; handle_left_columns();" class="filter_header">
				<span class="icon-list3"></span><span>&nbsp;&nbsp;Show Lists</span>
			</div>
			<div class="filters_panel_large" ng-if="show_lists && column_heights.show_filters">
				<div class="filters_group">
					<div ng-repeat="filter in more_filters[0]['book']">
						<filter data="filter"></filter>
					</div>
				</div>
			</div>

		</div>


		<!-- AUTHOR FILTERS -->
		<div class="full_width" ng-if="$routeParams.type == 'authors'">
			<div class="filters_panel_large">
				<div class="filters_group">
					<div ng-repeat="filter in more_filters[0]['author']">
						<filter data="filter"></filter>
					</div>
				</div>
			</div>
			
			<div class="filters_panel">
				<type-ahead items="genres" 
			 				prompt="GENRE" 
			 				title="name"
			 				custom-options = "genre_typeahead_options"
			 				custom="input_filter"
			 				model="genre" 
			 				on-select="on_genre_selection()"
			 				ng-keypress="show_genre_options('BOOK', genre)">
			 	</type-ahead>
			</div>
			
			<div class="filters_panel_right">
				
			</div>
		</div>

		<!-- READER FILTERS -->
		<div class="full_width" ng-if="$routeParams.type == 'readers'">
			<div class="filters_panel_large">
				<div class="filters_group">
					<div ng-repeat="filter in more_filters[0]['reader']">
						<filter data="filter"></filter>
					</div>
				</div>
			</div>
			
			<div class="filters_panel">
				<type-ahead items="genres" 
			 				prompt="GENRE" 
			 				title="name"
			 				custom-options = "genre_typeahead_options"
			 				custom="input_filter"
			 				model="genre" 
			 				on-select="on_genre_selection()"
			 				ng-keypress="show_genre_options('BOOK', genre)">
			 	</type-ahead>
			</div>
			
			<div class="filters_panel_right">
				<div class="header">
				</div>
			</div>
		</div>
		<div class="main_filters">
			<div class="reset_filters">
				 <a ng-href="#/user/{{$routeParams.id}}/recommendations/{{$routeParams.type}}" ng-click="reset_filters()">
				 	<span class="icon-loop"></span>
				 	<span>RESET FILTERS </span>
				 </a>
			</div>
		</div>
	</div>

	<div ng-if="bookmark_selected">
		<div class="full_width" ng-if="$routeParams.type == 'books'">
			<div class="filters_panel_large">
				<div class="filters_group">
					<div ng-repeat="filter in labels">
						<filter data="filter"></filter>
					</div>
				</div>
			</div>
		</div>
		<div class="full_width" ng-if="$routeParams.type == 'authors'">
			{{labels}}
		</div>
		<div class="full_width" ng-if="$routeParams.type == 'readers'">
			{{labels}}
		</div>
	</div>
</div>