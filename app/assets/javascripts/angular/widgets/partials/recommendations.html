<!-- <div class="go_left" ng-click="move_left()"></div>
<div class="go_right" ng-click="move_right()"></div> -->
<!-- <horizontal-scroller></horizontal-scroller> -->
<div msd-wheel="bindHorizontalScroll($event, $delta, $deltaX, $deltaY)" 
   ng-animate="msd-wheel"
   class="recommendations"
   style="height:100%; white-space:nowrap;"
   ng-controller="recommendationsController"
   ng-click="hide_popups()">
   		
		<div class="vertical_padder_active"></div>
		<main-header></main-header>
		<recommendation-footer></recommendation-footer>

		<!-- <div class="recommendations_page"><search-bar></search-bar></div> -->
		<div ng-switch on="panel_selected" class="recommendation_window">
			<div ng-switch-when="BOOKMARK" class="recommendation_panel">
				<div ng-show="$routeParams.type == 'books'" ng-model="user.books.bookmarked">
					<div ng-switch on="user.books.bookmarked.length">
						<div ng-switch-when="0">
							<info-card></info-card>
							Place a bookmark in your books
						</div>
						<div ng-switch-default>
							<info-card></info-card>
							<div ng-repeat="user_book in user.books.bookmarked" class="recommendation_block">
								<book track id="{{user_book.category.name | lowercase}}-{{user_book.id}}" data="user_book"></book>
							</div>
						</div>
					</div>
				</div>
				<div ng-show="$routeParams.type == 'authors'" ng-model="user.authors.bookmarked">
					<div ng-switch on="user.authors.bookmarked.length">
						<div ng-switch-when="0">
							<info-card></info-card>
							Bookmark authors
						</div>
						<div ng-switch-default>
							<info-card></info-card>
							<div ng-repeat="author in user.authors.bookmarked" class="recommendation_block">
								<author track id="{{author.category.name | lowercase}}-{{author.id}}" data="author"></author>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div ng-switch-when="READ" class="recommendation_panel">
				<div ng-show="$routeParams.type == 'books'" ng-model="user.books.read">
					<div ng-switch on="user.books.read.length">
						<div ng-switch-when="0">
							<info-card></info-card>
							Add Books you have read
						</div>
						<div ng-switch-default>
							<info-card></info-card>
							<div ng-repeat="user_book in user.books.read" class="recommendation_block">
								<book track id="{{user_book.category.name | lowercase}}-{{user_book.id}}" data="user_book"></book>
							</div>
						</div>
					</div>
				</div>
				<div ng-show="$routeParams.type == 'authors'" ng-model="user.authors.follow">
					<div ng-switch on="user.authors.follow.length">
						<div ng-switch-when="0">
							<info-card></info-card>
							Follow authors
						</div>
						<div ng-switch-default>
							<info-card></info-card>
							<div ng-repeat="author in user.authors.follow" class="recommendation_block">
								<author track id="{{author.category.name | lowercase}}-{{author.id}}" data="author"></author>
							</div>
						</div>
					</div>
				</div>
				<div ng-show="$routeParams.type == 'readers'" ng-model="user.readers.follow">
					<div ng-switch on="user.readers.follow.length">
						<div ng-switch-when="0">
							<info-card></info-card>
							Add Some readers to follow				
						</div>
						<div ng-switch-default>
							<info-card></info-card>
							<div ng-repeat="reader in user.readers.follow" class="recommendation_block">
								<reader track id="{{reader.category.name | lowercase}}-{{reader.id}}" data="reader"></reader>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div ng-switch-default class="recommendation_panel">
				<div ng-show="$routeParams.type == 'books'" 
					ng-model="recommendations.books" class="recommendation_panel">
					<info-card></info-card>
					<div ng-repeat="recommendation in recommendations.books" 
						 class="recommendation_block">
						<book track id="{{recommendation.category.name | lowercase}}-{{recommendation.id}}" data="recommendation"></book>
					</div>
					<div class="recommendation_block">
						<div class="widget">loading..</div>
					</div>
				</div>
				<div ng-show="$routeParams.type == 'readers'" 
					class="recommendation_panel">
					<info-card></info-card>
					<div ng-repeat="recommendation in recommendations.readers" class="recommendation_block">
						<reader track id="{{recommendation.category.name | lowercase}}-{{recommendation.id}}" data="recommendation"></reader>
					</div>
				</div>
				<div ng-show="$routeParams.type == 'authors'" 
					class="recommendation_panel">
					<info-card></info-card>
					<div ng-repeat="recommendation in recommendations.authors" class="recommendation_block">
						<author track id="{{recommendation.category.name | lowercase}}-{{recommendation.id}}" data="recommendation"></author>
					</div>
				</div>
			</div>
		</div>

		<div class="load_icon animate-slow"
		     ng-if="drop_icon">
			<img src="assets/preloader.gif" />
		</div>
		<div push-notification="notification_active" 
			class="push_notification" 
			ng-if="notification_active">
			<div class="type" ng-style="message_style">
				<span class="icon-thumbs-up" ng-if="message_type == 0"></span>
				<span class="icon-thumbs-up2" ng-if="message_type == 1"></span>
				<span class="icon-bell" ng-if="message_type == 2"></span>
			</div>
			<div class="content">{{message | message}}
			</div>
		</div>
		
		<message></message>
		<div class="notifications animate-fast" ng-if="show_notifications">
			<notification-link></notification-link>
			<div class="notification_elements">
				<div class="notification">News Feed</div>
				<div ng-repeat="notification in notifications">
					<notification data="notification"></notification>
				</div>
			</div>
		</div>

		<more-filters></more-filters>
		<focused-book></focused-book>
		<focused-author></focused-author>
		<focused-reader></focused-reader>
		<notification-link></notification-link>

		<div class="bottom_hover_detector">
			<div class="progression_state" ng-style="progression_state"></div>
		</div>
		<div class="top_hover_detector"></div>
		
</div>