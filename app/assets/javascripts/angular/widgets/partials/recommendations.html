<!-- <div class="go_left" ng-click="move_left()"></div>
<div class="go_right" ng-click="move_right()"></div> -->
<!-- <horizontal-scroller></horizontal-scroller> -->
<div msd-wheel="bindHorizontalScroll($event, $delta, $deltaX, $deltaY)" 
   ng-animate="msd-wheel"
   class="recommendations"
   style="height:100%; white-space:nowrap;"
   ng-controller="recommendationsController"
   ng-click="hide_popups()">

		<div class="vertical_padder_active"></div>
		<main-header></main-header>
		<recommendation-footer></recommendation-footer>

		<!-- <div class="recommendations_page"><search-bar></search-bar></div> -->
		<info-card></info-card>
		<div ng-switch on="panel_selected" class="full_height">
			<div ng-switch-when="BOOKMARK" class="full_height">
				<div ng-if="$routeParams.type == 'books'" ng-model="user.books.bookmarked">
					<div ng-switch on="user.books.bookmarked.length">
						<div ng-switch-when="0">
							Place a bookmark in your books
						</div>
						<div ng-switch-default>
							<div ng-repeat="user_book in user.books.bookmarked" class="recommendation_block">
								<book track id="{{user_book.category.name | lowercase}}-{{user_book.id}}" data="user_book"></book>
							</div>
						</div>
					</div>
				</div>
				<div ng-if="$routeParams.type == 'authors'" ng-model="user.authors.bookmarked">
					<div ng-switch on="user.authors.bookmarked.length">
						<div ng-switch-when="0">
							Bookmark authors
						</div>
						<div ng-switch-default>
							<div ng-repeat="author in user.authors.bookmarked" class="recommendation_block">
								<author track id="{{author.category.name | lowercase}}-{{author.id}}" data="author"></author>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div ng-switch-when="READ" class="full_height">
				<div ng-if="$routeParams.type == 'books'" ng-model="user.books.read">
					<div ng-switch on="user.books.read.length">
						<div ng-switch-when="0">
							Add Books you have read
						</div>
						<div ng-switch-default>
							<div ng-repeat="user_book in user.books.read" class="recommendation_block">
								<book track id="{{user_book.category.name | lowercase}}-{{user_book.id}}" data="user_book"></book>
							</div>
						</div>
					</div>
				</div>
				<div ng-if="$routeParams.type == 'authors'" ng-model="user.authors.follow">
					<div ng-switch on="user.authors.follow.length">
						<div ng-switch-when="0">
							Follow authors
						</div>
						<div ng-switch-default>
							<div ng-repeat="author in user.authors.follow" class="recommendation_block">
								<author track id="{{author.category.name | lowercase}}-{{author.id}}" data="author"></author>
							</div>
						</div>
					</div>
				</div>
				<div ng-if="$routeParams.type == 'readers'" ng-model="user.readers.follow">
					<div ng-switch on="user.readers.follow.length">
						<div ng-switch-when="0">
							Add Some readers to follow				
						</div>
						<div ng-switch-default>
							<div ng-repeat="reader in user.readers.follow" class="recommendation_block">
								<reader track id="{{reader.category.name | lowercase}}-{{reader.id}}" data="reader"></reader>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div ng-switch-default class="full_height">
				<div ng-if="$routeParams.type == 'books'" 
					ng-model="recommendations.books" class="full_height">
					<div ng-repeat="recommendation in recommendations.books" 
						 class="recommendation_block">
						<book track id="{{recommendation.category.name | lowercase}}-{{recommendation.id}}" data="recommendation"></book>
					</div>
					<div class="recommendation_block">
						<div class="widget loading_widget">
							<div class="loading_thumb"></div>
							<div class="loading_interaction_box">
								<div class="loading_bookmark">
								</div>
								<div class="loading_mark_as_read"></div>
							</div>
							<!-- <span ng-show="loading">loading..</span>
							<span ng-show="!loading"><div>SHOW</div><div>BOOKS</div></span> -->
						</div>
					</div>
				</div>
				<div ng-if="$routeParams.type == 'readers'" 
					class="full_height">
					<div ng-repeat="recommendation in recommendations.readers" class="recommendation_block">
						<reader track id="{{recommendation.category.name | lowercase}}-{{recommendation.id}}" data="recommendation"></reader>
					</div>
				</div>
				<div ng-if="$routeParams.type == 'authors'" 
					class="full_height">
					<div ng-repeat="recommendation in recommendations.authors" class="recommendation_block">
						<author track id="{{recommendation.category.name | lowercase}}-{{recommendation.id}}" data="recommendation"></author>
					</div>
				</div>
			</div>
		</div>

		<div class="load_icon animate-slow"
		     ng-if="drop_icon">
			<img src="assets/preloader.gif" />
		</div>
		
		
		<message></message>
		
		<div class="left_column animate-fast">
			<div class="scrollbar notifications animate-fast" 
				 ng-style="column_heights.notifications_style"
				 ng-if="show_notifications"
				 msd-wheel="handle_notification_ticker_size($event)">
				<div class="full_height">
					<!-- <div class="notification">News Feed</div> -->
					<div ng-if="notifications">
						<div ng-repeat="notification in notifications | reverse">
							<notification data="notification"></notification>
							<div class="arrow_left" ng-style="ticker_position"></div>
						</div>
					</div>
					<div ng-if="!notifications">
						No notifications.
					</div>
				</div>
			</div>
			<more-filters></more-filters>
			<div class="scrollbar friends_grid" 
				 ng-style="column_heights.friends_grid_style"
				 msd-wheel="handle_friends_grid_size($event)">
				<div class="friends_grid_header">15 Friends</div>
				<img ng-src="{{friend.thumb}}" 
					 title="{{friend.name}}" 
				     ng-repeat="friend in user.friends" 
				     class="friend_thumb" 
				     data-selected="false"
				     ng-click="select_thumb($event)"/>
			</div>
		</div>
		<!-- <div class="wrapper" ng-if="focused_book"></div> -->
		<div class="focused_tooltip animate-fast"
		     ng-style="focused_book.reposition_tooltip"
		     ng-click="stop_propagation($event)"
		     ng-if="focused_book"><focused-book></focused-book></div>
		<div class="ticker_popup" 
			 ng-if="ticker_popup"
			 ng-style="ticker_popup_style"
			 msd-wheel="handle_height_of_popup($event)">
			<ticker-popup></ticker-popup>
		</div>
		<div ng-if="focused_author"><focused-author></focused-author></div>
		<div ng-if="focused_reader"><focused-reader></focused-reader></div>

		<div class="bottom_hover_detector">
			<div class="progression_state" ng-style="progression_state"></div>
		</div>
		<div class="top_hover_detector"></div>
	
		<div class="scroller">
			<span class="scroller-left icon-angle-left"
			      ng-mouseover="move_left($event)"
			      ng-click="move_left($event)"
			      title="Scroll left">
			</span>
			<span class="scroller-right icon-angle-right"
				  ng-mouseover="move_right($event)"
				  ng-click="move_right($event)"
				  title="Scroll right">
			</span>
		</div>
	 	<!-- </type-ahead> -->
		
</div>