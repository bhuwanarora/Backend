<!-- <div class="go_left" ng-click="move_left()"></div>
<div class="go_right" ng-click="move_right()"></div> -->
<!-- <horizontal-scroller></horizontal-scroller> -->

<div msd-wheel="bindHorizontalScroll($event, $delta, $deltaX, $deltaY)" 
   ng-swipe-left="move_right($event)"
   ng-swipe-right="move_left($event)"
   ng-animate="msd-wheel"
   class="recommendations"
   style="height:100%; white-space:nowrap;"
   ng-intro-options="getting_started_tour_options" 
   ng-intro-method="getting_started_tour"
   ng-intro-autostart="should_auto_start()"
   ng-controller="recommendationsController"
   ng-click="hide_popups()">
		<header></header>
		<navbar></navbar>
		<div ng-include src="'/assets/angular/views/cover/profile/name.html'"></div>
		<!-- <div class="status animate-fast" ng-click="show_interaction_box()">
			<span><input disabled placeholder="Share something..." /></span>
		</div> -->
		<div class="grey_wrapper click" ng-show="user.show_profile" ng-click="toggle_profile(user.id, $event)"></div>
		<div class="vertical_padder_active animate-fast" 
			 ng-class="{'vertical_padder_shifted': user.show_profile}"></div>
		

		<div ng-include src="'/assets/angular/views/cover/show.html'"></div>
		<div class="info_card_placeholder animate-fast" ng-class="{'horizontal_padder_active': !user.collapsed_left_column}"></div>

		<div ng-switch on="panel_selected" class="full_height">
			<div ng-switch-when="BOOKMARK" class="full_height">
				<div ng-include src="'/assets/angular/views/home/library.html'"></div>
			</div>
			<div ng-switch-when="READ" class="full_height">
				<div ng-include src="'/assets/angular/views/home/read.html'"></div>
			</div>

			<div ng-switch-default class="full_height">
				<div ng-include src="'/assets/angular/views/home/recommendations.html'"></div>
			</div>
		</div>

		<!-- <div class="load_icon animate-slow"
		     ng-if="drop_icon">
			<img src="assets/preloader.gif" />
		</div> -->
		
		
		<!-- <message></message> -->
		<div class="left_panel animate-fast"
			 ng-class="{'hidden': user.show_profile}" 
			 ng-style="popups.left_panel_width" 
			 msd-wheel="stop_propagation($event)"
			 ng-click="stop_propagation($event)">
			<div ng-include src="'/assets/angular/views/left_panel/shelves.html'"></div>
			<div ng-include src="'/assets/angular/views/left_panel/friends_list.html'"></div>
			<div ng-include src="'/assets/angular/views/left_panel/news_feed.html'"></div>
			<div ng-include src="'/assets/angular/views/left_panel/trending_list.html'" 
				 ng-if="$routeParams.type != 'profile'"></div>
			<div ng-include src="'/assets/angular/views/left_panel/listopia.html'" ng-if="$routeParams.type != 'profile'"></div>
			<span class="icon-lock lock" ng-if="!user.collapsed_left_column && user.locked" ng-click="user.locked = false"></span>
			<span class="icon-unlocked lock" ng-if="!user.collapsed_left_column && !user.locked" ng-click="user.locked = true"></span>
		</div>
		<!-- <div class="wrapper" ng-if="focused_book"></div> -->
		<div class="focused_tooltip animate-faster"
		     ng-style="focused_book.reposition_tooltip"
		     ng-click="stop_propagation($event)"
		     ng-if="focused_book">
		    <book-info></book-info>
		</div>
		<div class="ticker_popup" 
			 ng-if="ticker_popup"
			 ng-class="{'ticker_popup_shifted': user.show_profile}"
			 ng-style="ticker_popup_style"
			 msd-wheel="handle_height_of_popup($event)"
			 check-scroll-down="handle_height_of_popup($event, true)">
			<div class="scrollbar shift_right">
				<ticker-popup></ticker-popup>
			</div>
			<!-- <book-interact track></book-interact> -->
		</div>
		<div ng-if="focused_author"><focused-author></focused-author></div>
		<div ng-if="focused_reader"><focused-reader></focused-reader></div>

		<!-- <div class="bottom_hover_detector">
			<div class="progression_state" ng-style="progression_state"></div>
			<div ng-repeat="book in recommendations.books" class="progression_state_block" ng-style="block_style">{{$index+1}}</div>
		</div> -->
		<div class="top_hover_detector"></div>
	
		<div class="scroller animate-fast" 
			 ng-class="{'hidden': user.show_profile}"
			 id="scroller">
			<span class="scroller-left icon-angle-left"
			      ng-mouseover="move_left($event)"
			      ng-click="move_left($event)"
			      title="Scroll left">
			</span>
			<span class="scroller-right icon-angle-right"
				  ng-mouseover="move_right($event)"
				  ng-click="move_right($event)"
				  title="Scroll right">
			</span>
		</div>

		<getting-started></getting-started>
		<div ng-include src="'/assets/angular/views/header/modals/settings.html'" 
			 ng-show="popups.settings_popup"></div>
</div>
<feed ng-if="user.interact"></feed>
<div feedback-popup></div>
<user-add></user-add>